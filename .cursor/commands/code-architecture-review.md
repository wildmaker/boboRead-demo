# ğŸ—ï¸ ä»£ç æ¶æ„åˆ†æä¸å¯è§†åŒ–æ–‡æ¡£ç”Ÿæˆ

åˆ†æä»£ç å®ç°é€»è¾‘ï¼Œä½¿ç”¨ Mermaid å›¾è¡¨æè¿°æ¶æ„ã€æ—¶åºå›¾ã€ç»„ä»¶äº¤äº’ï¼Œç”Ÿæˆ Markdown ä¿å­˜åˆ° `/docs/reviews`ï¼Œç”¨ Obsidian æ‰“å¼€ã€‚

```yaml
name: "ä»£ç æ¶æ„åˆ†æä¸å¯è§†åŒ–æ–‡æ¡£ç”Ÿæˆ"
description: "åˆ†æä»£ç é€»è¾‘ï¼Œç”Ÿæˆå¯è§†åŒ–æ¶æ„æ–‡æ¡£"
command:
  steps:
    - name: åˆ†æä»£ç å¹¶ç”Ÿæˆæ¶æ„æ–‡æ¡£
      run: >
        ai.comment "
        åˆ†æç›®æ ‡é—®é¢˜é¢†åŸŸçš„ä»£ç å®ç°é€»è¾‘ï¼Œç”Ÿæˆæ¶æ„æ–‡æ¡£ã€‚åŸºäºå®é™…ä»£ç åˆ†æï¼Œä½¿ç”¨ Mermaid å›¾è¡¨å¯è§†åŒ–ï¼Œä¸­æ–‡è¾“å‡ºã€‚
        
        æ–‡æ¡£ç»“æ„ï¼ˆç« èŠ‚ç”¨ `---` åˆ†éš”ï¼‰ï¼š
        1. å°é¢é¡µï¼šåˆ†æç›®æ ‡ã€èŒƒå›´ã€æ ¸å¿ƒä»·å€¼
        2. é—®é¢˜é¢†åŸŸæ¦‚è¿°ï¼šä¸šåŠ¡/æŠ€æœ¯èƒŒæ™¯ã€çº¦æŸ
        3. æ•´ä½“ç³»ç»Ÿæ¶æ„ï¼šMermaid æ¶æ„å›¾ï¼ˆgraph/flowchartï¼‰ï¼Œæ¨¡å—èŒè´£ã€ä¾èµ–å…³ç³»ï¼Œå›¾å2-3å¥è§£è¯»
        4. æ ¸å¿ƒæµç¨‹æ—¶åºå›¾ï¼šMermaid æ—¶åºå›¾ï¼ˆsequenceDiagramï¼‰ï¼Œå‚ä¸è€…äº¤äº’ã€å…³é”®æ­¥éª¤ï¼Œå›¾å2-3å¥è§£è¯»
        5. ç»„ä»¶äº¤äº’ä¸æ•°æ®æ¨¡å‹ï¼šMermaid æµç¨‹å›¾/ERå›¾/çŠ¶æ€å›¾ï¼Œå›¾å2-3å¥è§£è¯»
        6. å…³é”®ä»£ç æ¨¡å—ï¼šæŒ‰æ¨¡å—ç»„ç»‡ï¼ŒèŒè´£ã€æ–‡ä»¶è·¯å¾„ã€æ ¸å¿ƒå®ç°
        7. æŠ€æœ¯å®ç°ä¸éƒ¨ç½²ï¼šæŠ€æœ¯é€‰å‹ã€ç®—æ³•æµç¨‹å›¾ã€éƒ¨ç½²æ¶æ„
        8. æ€»ç»“ï¼šè®¾è®¡äº®ç‚¹ã€æ”¹è¿›ç‚¹ã€æ¼”è¿›æ–¹å‘
        
        è¦æ±‚ï¼šå¿…é¡»ä½¿ç”¨ Mermaid å›¾è¡¨ï¼Œæ¯ä¸ªå¤æ‚æµç¨‹è‡³å°‘1ä¸ªå›¾ï¼Œå›¾åé™„è§£è¯»ã€‚ä»£ç å¼•ç”¨ï¼š\`æ–‡ä»¶è·¯å¾„\` æˆ– \`\`\`startLine:endLine:filepath\`\`\`ã€‚ç« èŠ‚ç”¨ `---` åˆ†éš”ã€‚åªè¾“å‡º Markdownã€‚
        
        åˆ†æç›®æ ‡ï¼š{{input:target}}
        "
    - name: ç”Ÿæˆæ–‡ä»¶åå¹¶ä¿å­˜
      run: |
        TIMESTAMP=$(date +%Y%m%d-%H%M%S)
        TARGET_SLUG=$(echo "{{input:target}}" | sed 's/[^a-zA-Z0-9]/-/g' | tr '[:upper:]' '[:lower:]' | cut -c1-50)
        FILENAME="architecture-review-${TARGET_SLUG}-${TIMESTAMP}"
        mkdir -p docs/reviews
        echo '{{previous_output}}' > docs/reviews/${FILENAME}.md
        open -a "Obsidian" "docs/reviews/${FILENAME}.md" 2>/dev/null || open "docs/reviews/${FILENAME}.md"
        echo "âœ… å·²ä¿å­˜å¹¶æ‰“å¼€: docs/reviews/${FILENAME}.md"
inputs:
  - name: target
    description: "åˆ†æç›®æ ‡ï¼šä»£ç è·¯å¾„ã€åŠŸèƒ½æ¨¡å—æˆ–é—®é¢˜é¢†åŸŸï¼ˆå¦‚ï¼šauthGatewayã€ç”¨æˆ·è®¤è¯æµç¨‹ï¼‰"
    type: string

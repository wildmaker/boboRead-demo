{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/wildmaker/Documents/Projects/boboRead-demo/lib/utils.ts"],"sourcesContent":["import { clsx, type ClassValue } from 'clsx'\nimport { twMerge } from 'tailwind-merge'\n\nexport function cn(...inputs: ClassValue[]) {\n  return twMerge(clsx(inputs))\n}\n"],"names":[],"mappings":";;;;AAAA;AACA;;;AAEO,SAAS,GAAG,GAAG,MAAoB;IACxC,OAAO,IAAA,oOAAO,EAAC,IAAA,8LAAI,EAAC;AACtB"}},
    {"offset": {"line": 19, "column": 0}, "map": {"version":3,"sources":["file:///Users/wildmaker/Documents/Projects/boboRead-demo/components/ui/button.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst buttonVariants = cva(\n  \"inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 ring-offset-background\",\n  {\n    variants: {\n      variant: {\n        default: \"bg-primary text-primary-foreground hover:bg-primary/90\",\n        destructive: \"bg-destructive text-destructive-foreground hover:bg-destructive/90\",\n        outline:\n          \"border border-input bg-background hover:bg-accent hover:text-accent-foreground\",\n        secondary: \"bg-secondary text-secondary-foreground hover:bg-secondary/80\",\n        ghost: \"hover:bg-accent hover:text-accent-foreground\",\n        link: \"text-primary underline-offset-4 hover:underline\",\n      },\n      size: {\n        default: \"h-10 px-4 py-2\",\n        sm: \"h-9 rounded-md px-3\",\n        lg: \"h-11 rounded-md px-8\",\n        icon: \"h-10 w-10\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  },\n)\n\nexport interface ButtonProps\n  extends React.ButtonHTMLAttributes<HTMLButtonElement>,\n    VariantProps<typeof buttonVariants> {\n  asChild?: boolean\n}\n\nconst Button = React.forwardRef<HTMLButtonElement, ButtonProps>(\n  ({ className, variant, size, asChild = false, ...props }, ref) => {\n    const Comp = asChild ? Slot : \"button\"\n    return (\n      <Comp\n        className={cn(buttonVariants({ variant, size, className }))}\n        ref={ref}\n        {...props}\n      />\n    )\n  },\n)\nButton.displayName = \"Button\"\n\nexport { Button, buttonVariants }\n\n\n"],"names":[],"mappings":";;;;;;;AAEA;AACA;AACA;AAEA;AANA;;;;;;AAQA,MAAM,iBAAiB,IAAA,kPAAG,EACxB,0RACA;IACE,UAAU;QACR,SAAS;YACP,SAAS;YACT,aAAa;YACb,SACE;YACF,WAAW;YACX,OAAO;YACP,MAAM;QACR;QACA,MAAM;YACJ,SAAS;YACT,IAAI;YACJ,IAAI;YACJ,MAAM;QACR;IACF;IACA,iBAAiB;QACf,SAAS;QACT,MAAM;IACR;AACF;AASF,MAAM,uBAAS,oXAAgB,CAC7B,CAAC,EAAE,SAAS,EAAE,OAAO,EAAE,IAAI,EAAE,UAAU,KAAK,EAAE,GAAG,OAAO,EAAE;IACxD,MAAM,OAAO,UAAU,4SAAI,GAAG;IAC9B,qBACE,+YAAC;QACC,WAAW,IAAA,kHAAE,EAAC,eAAe;YAAE;YAAS;YAAM;QAAU;QACxD,KAAK;QACJ,GAAG,KAAK;;;;;;AAGf;AAEF,OAAO,WAAW,GAAG"}},
    {"offset": {"line": 80, "column": 0}, "map": {"version":3,"sources":["file:///Users/wildmaker/Documents/Projects/boboRead-demo/app/scan/page.tsx"],"sourcesContent":["\"use client\"\n\nimport { useState, useEffect } from \"react\"\nimport { Button } from \"@/components/ui/button\"\nimport { ArrowLeft, Camera, AlertCircle, CheckCircle2 } from \"lucide-react\"\nimport Link from \"next/link\"\nimport { useRouter, useSearchParams } from \"next/navigation\"\nimport Image from \"next/image\"\n\nexport default function ScanPage() {\n  const router = useRouter()\n  const searchParams = useSearchParams()\n  const bookId = searchParams.get(\"bookId\") || \"1\"\n\n  const [isScanning, setIsScanning] = useState(true)\n  const [scanSuccess, setScanSuccess] = useState(false)\n  const [error, setError] = useState<string | null>(null)\n  const [guideText, setGuideText] = useState(\"把封面放进框框里哦~\")\n\n  useEffect(() => {\n    const scanTimer = setTimeout(() => {\n      setIsScanning(false)\n      setScanSuccess(true)\n      setGuideText(\"找到啦！\")\n    }, 2500)\n\n    const redirectTimer = setTimeout(() => {\n      router.push(`/read/${bookId}`)\n    }, 3500)\n\n    return () => {\n      clearTimeout(scanTimer)\n      clearTimeout(redirectTimer)\n    }\n  }, [router, bookId])\n\n  const handleRetry = () => {\n    setError(null)\n    setIsScanning(true)\n    setScanSuccess(false)\n    setGuideText(\"把封面放进框框里哦~\")\n  }\n\n  const handleShutterClick = () => {\n    if (scanSuccess || error) return\n    setIsScanning(false)\n    setScanSuccess(true)\n    setGuideText(\"找到啦！\")\n    // 保持原有自动跳转计时，不额外 push 路由，避免重复跳转\n  }\n\n  return (\n    <div className=\"min-h-screen bg-black flex flex-col\">\n      {/* Header */}\n      <div className=\"absolute top-0 left-0 right-0 z-10 p-4\">\n        <Link href={`/book/${bookId}`}>\n          <Button variant=\"ghost\" size=\"icon\" className=\"rounded-full bg-black/50 text-white hover:bg-black/70\">\n            <ArrowLeft className=\"h-5 w-5\" />\n          </Button>\n        </Link>\n      </div>\n\n      {/* Camera Preview / Scanning Area */}\n      <div className=\"flex-1 relative flex flex-col items-center justify-center\">\n        <div className=\"absolute inset-0 bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900 flex items-center justify-center overflow-hidden\">\n          {/* Simulated camera grain effect */}\n          <div className=\"absolute inset-0 opacity-20 bg-[url('/camera-grain-texture.jpg')]\" />\n          <Camera className=\"w-24 h-24 text-gray-600/50\" />\n        </div>\n\n        {/* 扫描框和狐狸提示语的容器 */}\n        <div className=\"relative z-10 flex flex-col items-center\">\n          {/* 扫描框 */}\n          <div className=\"relative w-80 h-96 rounded-3xl flex items-center justify-center\">\n            {/* Corner indicators */}\n            <div className=\"absolute inset-0\">\n              {/* Top-left */}\n              <div className=\"absolute top-0 left-0 w-16 h-16 border-t-4 border-l-4 border-primary rounded-tl-3xl\" />\n              {/* Top-right */}\n              <div className=\"absolute top-0 right-0 w-16 h-16 border-t-4 border-r-4 border-primary rounded-tr-3xl\" />\n              {/* Bottom-left */}\n              <div className=\"absolute bottom-0 left-0 w-16 h-16 border-b-4 border-l-4 border-primary rounded-bl-3xl\" />\n              {/* Bottom-right */}\n              <div className=\"absolute bottom-0 right-0 w-16 h-16 border-b-4 border-r-4 border-primary rounded-br-3xl\" />\n            </div>\n\n            {/* 金色光束扫描线 */}\n            {isScanning && !error && <div className=\"laser-beam\" />}\n\n            {scanSuccess && (\n              <div className=\"absolute inset-0 flex items-center justify-center animate-in fade-in zoom-in duration-500\">\n                <div className=\"bg-primary/90 rounded-full p-4 shadow-2xl\">\n                  <CheckCircle2 className=\"w-16 h-16 text-primary-foreground\" />\n                </div>\n              </div>\n            )}\n\n            {/* Status text */}\n            <div className=\"text-center space-y-2 px-6\">\n              <p className=\"text-white font-semibold text-lg drop-shadow-lg\">\n                {isScanning && !error && \"正在识别封面...\"}\n                {scanSuccess && \"识别成功！\"}\n              </p>\n              {scanSuccess && <p className=\"text-white/80 text-sm drop-shadow\">即将进入阅读模式</p>}\n            </div>\n          </div>\n\n          {/* 狐狸和提示语 - 固定在扫描框下方，狐狸在左侧，文字在右侧 */}\n          <div className=\"relative z-20 mt-6 flex items-center gap-4 px-4\">\n            <div className=\"drop-shadow-[-5px_6px_12px_rgba(0,0,0,0.35)] flex-shrink-0\">\n              <Image\n                src=\"/images/fox_01.png\"\n                alt=\"小狐狸\"\n                width={72}\n                height={72}\n                className=\"object-contain\"\n                priority\n              />\n            </div>\n            <div className=\"bg-white px-3.5 py-2.5 rounded-[20px_20px_20px_0] shadow-[0_5px_15px_rgba(0,0,0,0.25)] text-[0.85rem] font-bold text-[color:var(--text-dark)] max-w-[240px] text-left leading-relaxed\">\n              {guideText}\n            </div>\n          </div>\n        </div>\n\n        {error && (\n          <div className=\"absolute bottom-32 left-6 right-6 bg-card rounded-2xl p-6 shadow-xl animate-in fade-in slide-in-from-bottom-4\">\n            <div className=\"flex items-start gap-3\">\n              <AlertCircle className=\"w-6 h-6 text-destructive flex-shrink-0 mt-0.5\" />\n              <div className=\"flex-1 space-y-3\">\n                <div>\n                  <h3 className=\"font-semibold text-lg\">识别失败</h3>\n                  <p className=\"text-sm text-muted-foreground mt-1\">{error}</p>\n                </div>\n                <Button onClick={handleRetry} className=\"w-full\">\n                  重新扫描\n                </Button>\n              </div>\n            </div>\n          </div>\n        )}\n      </div>\n\n      {/* 底部控制台：快门按钮 + 文案 */}\n      <div className=\"pb-8 pt-4 px-6 bg-gradient-to-t from-black/80 via-black/40 to-transparent flex flex-col items-center gap-4\">\n        {/* 快门按钮 */}\n        <button\n          type=\"button\"\n          onClick={handleShutterClick}\n          className=\"relative w-20 h-20 flex items-center justify-center active:scale-95 transition-transform duration-100\"\n        >\n          {/* 外圈 */}\n          <div className=\"absolute inset-0 rounded-full border-4 border-white/90 shadow-[0_5px_15px_rgba(0,0,0,0.4)]\" />\n          {/* 内芯 */}\n          <div\n            className=\"w-16 h-16 rounded-full border-[3px] border-white shadow-inner\"\n            style={{\n              background: \"radial-gradient(circle at 30% 30%, #FFD740 0%, #FFC107 100%)\",\n              boxShadow: \"inset 0 -4px 4px rgba(0,0,0,0.15)\",\n            }}\n          />\n        </button>\n\n        {/* 提示文案 */}\n        <div className=\"text-center space-y-1\">\n          <p className=\"text-white font-medium text-balance\">将绘本封面对准取景框</p>\n          <p className=\"text-white/60 text-sm\">点击下方按钮拍照识别，系统将自动开始阅读</p>\n        </div>\n      </div>\n    </div>\n  )\n}\n\n\n"],"names":[],"mappings":"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"}}]
}